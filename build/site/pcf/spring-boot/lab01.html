                <!DOCTYPE html>
<html lang="en">
<head>

<meta name="course version" content="1.1.0">
<meta name="generator" content="io.pivotal.pal.shipkin:shipkin-plugin:5.1.0, https://github.com/platform-acceleration-lab/shipkin">
<meta name="generated on" content="2018-04-10T21:46:01.082Z">
<meta name="theme-color" content="#00ae9e">


<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Pivotal Azure Workshop</title>

<link rel="icon" href="../../images/favicon.ico">

<link rel="stylesheet" href="../../css/reset.css">
<link rel="stylesheet" href="../../css/theme.css">
<link rel="stylesheet" href="../../css/highlight.js.min.css">
<link rel="stylesheet" href="../../css/github.css">

<style>

    #header {
        border-color: #86c775;
        background-color: #00ae9e;
    }

    footer {
        background-color: #00ae9e;
    }

    .label.label-primary {
        background-color: #009fdf;
    }

    a {
        color: #009fdf;
    }

    .label.label-primary:hover, .label.label-primary:focus {
        background-color: #faeee;
    }

    a:hover, a:focus {
        color: #faeee;
    }

    .slide {
        color: #00ae9e;
    }

    .slide h2, .slide label {
        color: #009fdf;
    }

    .slide input {
        color: rgba(0, 174, 158, 0.65);
    }

    .face path {
        fill: #009fdf;
    }

    body {
        background-color: #fffff0;
    }

    .slide {
        background-color: rgba(255, 255, 240, 0.9);
    }

    .slide.text {
        background-color: #fffff0;
    }

    .slide h2, .slide label {
        color: inherit;
    }



    .slide:before {
        background-image: url(../../images/sheep.png);
        background-size: contain;
        background-repeat: no-repeat;
        content: "";

        height: 120px;
        width: 115px;
        position: fixed;
        top: 20px;
        left: 20px;
    }
</style>

</head>
<body>


<style>
    #header {
        background: linear-gradient(rgba(0, 174, 158, 0.65), rgba(0, 174, 158, 0.65)), url(../../images/cloud-security.jpg) no-repeat center;
        background-size: cover;

    }
</style>

<header id="header">
    <div class="container">
        <img src="../../images/scs-logo.png" alt="Pivotal Azure Workshop logo">

        <div>
            <a href="../..">
                <h1>Pivotal Azure Workshop</h1>

            </a>

        </div>
    </div>
</header>


<a class="feedback" href="https://docs.google.com/forms/d/e/1FAIpQLSdR2-woVmejvILly2I_BYuXQyAY_xAo5ygvTnjJGHsjx7lfHw/viewform" data-url-field="entry.1985209097" target="_blank" rel="noreferrer noopener">
    <button>feedback</button>
</a>

<main id="main">

    <div id="content" class="container">
        <article>
 <h1 id="overview">Overview</h1>
<p>Spring Boot makes it easy to create stand-alone, production-grade Spring
based Applications that you can &quot;just run&quot;. We take an opinionated view
of the Spring platform and third-party libraries so you can get started
with minimum fuss. Most Spring Boot applications need very little Spring
configuration.</p>
<h2 id="create-a-spring-boot-project">Create a Spring Boot Project</h2>
<ol>
<li>
<p>Browse to <a href="https://start.spring.io" rel="noreferrer noopener">Spring Initializr</a></p>
</li>
<li>
<p>Generate a <code>Maven Project</code> with <code>Java</code> and Spring Boot
<code>{spring-boot-version}</code></p>
</li>
<li>
<p>Fill out the <strong>Project metadata</strong> fields as follows:</p>
<table class="table">
<thead>
<tr><th>Group</th><th>Artifact</th></tr>
</thead>
<tbody>
<tr><td><code>io.pivotal</code></td><td><code>cloud-native-spring</code></td></tr>
</tbody>
</table>
</li>
<li>
<p>In the dependencies section, add each of the following manually:</p>
<ul>
<li>
<p><strong>Web</strong></p>
</li>
<li>
<p><strong>Rest Repositories</strong></p>
</li>
<li>
<p><strong>JPA</strong></p>
</li>
<li>
<p><strong>H2</strong></p>
</li>
<li>
<p><strong>Actuator</strong></p>
</li>
</ul>
</li>
<li>
<p>Click the <em>Generate Project</em> button and your browser will download
the <code>cloud-native-spring.zip</code> file.</p>
</li>
<li>
<p>Copy then unpack the downloaded zip file to
<code>CN-Workshop/labs/my_work/cloud-native-spring</code></p>
<pre><code class="language-sh">CN-Workshop $ mkdir labs/my_work
CN-Workshop $ cd labs/my_work
CN-Workshop/labs/my_work $ cp ~/Downloads/cloud-native-spring.zip .
CN-Workshop/labs/my_work $ unzip cloud-native-spring.zip
CN-Workshop/labs/my_work $ cd cloud-native-spring
</code></pre>
<p>Your directory structure should now look like:</p>
<pre><code class="language-sh">CN-Workshop:
├── labs
│   ├── my_work
│   │   ├── cloud-native-spring
</code></pre>
</li>
<li>
<p>Rename <code>application.properties</code> to <code>application.yml</code></p>
<p>Spring Boot uses the <code>application.properties</code>/<code>application.yml</code> file
to specify various properties which configure the behavior of
your application. By default, <a href="start.spring.io" rel="noreferrer noopener">Spring Initializr</a>
creates a project with an <code>application.properties</code> file, however,
throughout this workshop we will be <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-yaml" rel="noreferrer noopener">using YAML instead of
Properties</a>.</p>
<pre><code class="language-sh">CN-Workshop/labs/my_work/cloud-native-spring $ mv src/main/resources/application.properties src/main/resources/application.yml
</code></pre>
</li>
<li>
<p>Import the project’s pom.xml into your editor/IDE of choice.</p>
</li>
</ol>
<p><strong>Tip</strong></p>
<p><strong>Spring Tool Suite Import Help</strong></p>
<ol>
<li>Navigate to: <code>File -&gt; Import… -&gt; Maven -&gt; Existing Maven Projects</code></li>
<li>On the Import Maven Projects page, <em>Browse</em> to: <code>CN-Workshop/labs/my_work/cloud-native-spring</code></li>
</ol>
<h2 id="add-an-endpoint">Add an Endpoint</h2>
<ol>
<li>
<p>Add an <code>@RestController</code> annotation to the class
<code>CloudNativeSpringApplication</code>.</p>
<p><strong>cloud-native-spring/src/main/java/io/pivotal/cloudnativespring/CloudNativeSpringApplication.java.</strong></p>
<pre><code class="language-java">package io.pivotal.cloudnativespring;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController
public class CloudNativeSpringApplication {

    public static void main(String[] args) {
        SpringApplication.run(CloudNativeSpringApplication.class, args);
    }
}
</code></pre>
</li>
<li>
<p>Add the following request handler to the class
<code>CloudNativeSpringApplication</code> here</p>
<p><strong>cloud-native-spring/src/main/java/io/pivotal/cloudnativespring/CloudNativeSpringApplication.java.</strong></p>
<pre><code class="language-java">@RequestMapping(&quot;/&quot;)
public String hello() {
    return &quot;Hello World!&quot;;
}
</code></pre>
</li>
<li>
<p>Completed</p>
<p><strong>cloud-native-spring/src/main/java/io/pivotal/cloudnativespring/CloudNativeSpringApplication.java.</strong></p>
<pre><code class="language-java">package io.pivotal.cloudnativespring;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@SpringBootApplication
@RestController
public class CloudNativeSpringApplication {

    public static void main(String[] args) {
        SpringApplication.run(CloudNativeSpringApplication.class, args);
    }

    @RequestMapping(&quot;/&quot;)
    public String hello() {
        return &quot;Hello World!&quot;;
    }
}
</code></pre>
</li>
</ol>
<h2 id="run-the-cloud-native-spring-application">Run the <em>cloud-native-spring</em> Application</h2>
<ol>
<li>
<p>Run the application using the project’s Maven Wrapper command:</p>
<pre><code>CN-Workshop/labs/my_work/cloud-native-spring $ ./mvnw spring-boot:run
</code></pre>
</li>
<li>
<p>You should see the application start up an embedded Apache Tomcat
server on port <code>8080</code> (review terminal output):</p>
<pre><code class="language-sh">2017-11-01 21:41:09.949  INFO 19104 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2017-11-01 21:41:09.957  INFO 19104 --- [main] i.p.c.CloudNativeSpringApplication       : Started CloudNativeSpringApplication in 5.694 seconds (JVM running for 9.866)
</code></pre>
</li>
<li>
<p>View your web application by browsing to <a href="http://localhost:8080" rel="noreferrer noopener">http://localhost:8080</a></p>
<p><strong>Note</strong></p>
<p>Already have something running on port <code>8080</code>? You can tell Spring Boot to use a different port by specifying the Java System property <code>-Dserver.port=9999</code>: <code>./mvnw spring-boot:run -Dserver.port=9999</code></p>
</li>
<li>
<p>After validating the app is running properly, stop the
<em>cloud-native-spring</em> application by pressing <code>CTRL + C</code> in the
terminal window.</p>
</li>
</ol>
<h2 id="deploy-cloud-native-spring-to-pivotal-cloud-foundry">Deploy <em>cloud-native-spring</em> to Pivotal Cloud Foundry</h2>
<ol>
<li>
<p>Build the application using the project’s Maven Wrapper command:</p>
<p><code>CN-Workshop/labs/my_work/cloud-native-spring $ ./mvnw package</code></p>
</li>
<li>
<p>Create a Cloud Foundry application manifest.</p>
<p>Defining a <code>manifest.yml</code> is a very useful way of specifying
sensible defaults for your application when deploying to
Cloud Foundry.</p>
<p><code>CN-Workshop/labs/my_work/cloud-native-spring $ touch manifest.yml</code></p>
<p>Add application metadata, using a text editor (of choice)</p>
<pre><code class="language-yaml">applications:
- name: cloud-native-spring
    random-route: true
    memory: 768M
    path: target/cloud-native-spring-0.0.1-SNAPSHOT.jar
    env:
        JAVA_OPTS: -Djava.security.egd=file:///dev/urandom
</code></pre>
</li>
<li>
<p>Push the application to Cloud Foundry.</p>
<pre><code class="language-sh">CN-Workshop/labs/my_work/cloud-native-spring $ cf push
Using manifest file /Users/someuser/git/CN-Workshop/labs/my_work/cloud-native-spring/manifest.yml
...
Showing health and status for app cloud-native-spring in org user-org / space user-space as user@example.com...
OK

requested state: started
instances: 1/1
usage: 768M x 1 instances
urls: cloud-native-spring-liqxfuds.cfapps.io
last uploaded: Thu Nov 2 03:33:23 UTC 2017
stack: cflinuxfs2
buildpack: java_buildpack

        state     since                    cpu    memory          disk           details
#0   running   2017-11-01 10:34:24 PM   0.0%   92.8M of 768M   152.6M of 1G
</code></pre>
</li>
<li>
<p>Find the URL created for your app in the health status report and browse to
your app.</p>
</li>
</ol>
<p><strong>Congratulations!</strong> You’ve just completed your first Spring Boot
application.</p>
         </article>
        <div class="sidebar-container">
<nav id="sidebar">
    <div class="title">
        <a href="../../index.html">Return to Pivotal Azure Workshop</a>
    </div>
    <div class="content">
        <a href="#">Back to top</a>

<ul>
        <li>
        <a href="#overview">Overview</a>

<ul>
        <li>
        <a href="#create-a-spring-boot-project">Create a Spring Boot Project</a>

        </li>
        <li>
        <a href="#add-an-endpoint">Add an Endpoint</a>

        </li>
        <li>
        <a href="#run-the-cloud-native-spring-application">Run the cloud-native-spring Application</a>

        </li>
        <li>
        <a href="#deploy-cloud-native-spring-to-pivotal-cloud-foundry">Deploy cloud-native-spring to Pivotal Cloud Foundry</a>

        </li>
</ul>
        </li>
</ul>
    </div>
</nav>
        </div>
    </div>
</main>


<div class="slide" data-slide="1">
    <h1>Pivotal Azure Workshop</h1>
</div>

<div class="slide transparent" data-slide="2">
    <h1>Get started!</h1>
</div>

<div class="slide" data-slide="3">
    <h1>Wrap up</h1>

    <div class="faces">
        <svg class="face" viewBox="0 0 24 24">
            <path d="M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M13,9.94L14.06,11L15.12,9.94L16.18,11L17.24,9.94L15.12,7.82L13,9.94M8.88,9.94L9.94,11L11,9.94L8.88,7.82L6.76,9.94L7.82,11L8.88,9.94M12,17.5C14.33,17.5 16.31,16.04 17.11,14H6.89C7.69,16.04 9.67,17.5 12,17.5Z"/>
        </svg>

        <svg class="face" viewBox="0 0 24 24">
            <path d="M8.5,11A1.5,1.5 0 0,1 7,9.5A1.5,1.5 0 0,1 8.5,8A1.5,1.5 0 0,1 10,9.5A1.5,1.5 0 0,1 8.5,11M15.5,11A1.5,1.5 0 0,1 14,9.5A1.5,1.5 0 0,1 15.5,8A1.5,1.5 0 0,1 17,9.5A1.5,1.5 0 0,1 15.5,11M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M9,14H15A1,1 0 0,1 16,15A1,1 0 0,1 15,16H9A1,1 0 0,1 8,15A1,1 0 0,1 9,14Z"/>
        </svg>

        <svg class="face" viewBox="0 0 24 24">
            <path d="M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M16.18,7.76L15.12,8.82L14.06,7.76L13,8.82L14.06,9.88L13,10.94L14.06,12L15.12,10.94L16.18,12L17.24,10.94L16.18,9.88L17.24,8.82L16.18,7.76M7.82,12L8.88,10.94L9.94,12L11,10.94L9.94,9.88L11,8.82L9.94,7.76L8.88,8.82L7.82,7.76L6.76,8.82L7.82,9.88L6.76,10.94L7.82,12M12,14C9.67,14 7.69,15.46 6.89,17.5H17.11C16.31,15.46 14.33,14 12,14Z"/>
        </svg>
    </div>
</div>


<div class="slide lemon-squeezy" data-slide="7">
    <h1>Easy peasy</h1>
    <h1>lemon squeezy!</h1>
</div>

<div class="slide" data-slide="8">
    <h1>Lunch time!</h1>
    <label for="lunch-end">will return</label>
    <input type="text" name="lunch-end" data-time>
</div>

<div class="slide" data-slide="9">
    <h1>Break time!</h1>
    <label for="break-end">will return</label>
    <input type="text" name="break-end" data-time>
</div>

<audio src="../../audio/gong.mp3"
       id="gong"
       preload>
</audio>

<div class="slide" data-slide="¿">
    <h2>Keyboard shortcuts</h2>
    <table>
        <thead>
        <tr>
            <th>Key</th>
            <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1</td>
            <td>Show <em>introduction</em> slide</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Show <em>get started</em> slide</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Show <em>wrap up</em> slide</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Show <em>instructor notes</em></td>
        </tr>
        <tr>
            <td>7</td>
            <td>Easy peasy</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Show <em>lunch time</em> slide</td>
        </tr>
        <tr>
            <td>9</td>
            <td>Show <em>break time</em> slide</td>
        </tr>
        <tr>
            <td>0</td>
            <td>Play gong sound</td>
        </tr>
        <tr>
            <td>ESC</td>
            <td>Close slide</td>
        </tr>
        <tr>
            <td>?</td>
            <td>Show this help message</td>
        </tr>
        </tbody>
    </table>
</div>

<footer>
    <a href="https://pivotal.io/legal" rel="noreferrer noopener">CONFIDENTIAL -
        © Copyright 2018 Pivotal Software, Inc. All Rights Reserved.</a>
    <div>
        <label class="hidden-checkbox">
            <input type="checkbox" id="instructor-mode">
            <span>course version: 1.1.0<sup class="check">IM</sup></span>
        </label>
    </div>
</footer>

<script src="../../js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="../../js/shipkin.js"></script>
<script src="../../js/slides.js"></script>

</body>
</html>

